{"remainingRequest":"/Users/kingsonly/Documents/tentacular/all_in_one/sao/sao-frontend/node_modules/babel-loader/lib/index.js!/Users/kingsonly/Documents/tentacular/all_in_one/sao/sao-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/kingsonly/Documents/tentacular/all_in_one/sao/sao-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kingsonly/Documents/tentacular/all_in_one/sao/sao-frontend/src/views/account/Client.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kingsonly/Documents/tentacular/all_in_one/sao/sao-frontend/src/views/account/Client.vue","mtime":1680088796555},{"path":"/Users/kingsonly/Documents/tentacular/all_in_one/sao/sao-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kingsonly/Documents/tentacular/all_in_one/sao/sao-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/kingsonly/Documents/tentacular/all_in_one/sao/sao-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kingsonly/Documents/tentacular/all_in_one/sao/sao-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgYXZhdGFyVGV4dCB9IGZyb20gJ0Bjb3JlL3V0aWxzL2ZpbHRlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYXZhdGFyVGV4dDogYXZhdGFyVGV4dCwKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgdXBkYXRpbmc6IGZhbHNlLAogICAgICBjbGllbnQ6IG51bGwsCiAgICAgIHByb2ZpbGVQaWN0dXJlOiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydhdXRoL2dldFByb2ZpbGVQaWN0dXJlJ10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRDbGllbnRJbmZvKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDbGllbnRJbmZvOiBmdW5jdGlvbiBnZXRDbGllbnRJbmZvKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2FjY291bnQvZ2V0Q2xpZW50QWNjb3VudCcpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBjbGllbnRPYmplY3QgPSByZXMuZGF0YS5kYXRhLmNsaWVudE9iamVjdDsKICAgICAgICBfdGhpcy5jbGllbnQgPSBjbGllbnRPYmplY3Q7CiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVQaWN0dXJlOiBmdW5jdGlvbiB1cGRhdGVQaWN0dXJlKGUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnVwZGF0aW5nID0gdHJ1ZTsKICAgICAgdmFyIGZpbGVzID0gZS50YXJnZXQuZmlsZXMgfHwgZS5kYXRhVHJhbnNmZXIuZmlsZXM7CgogICAgICBpZiAoIWZpbGVzLmxlbmd0aCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5jcmVhdGVJbWFnZShmaWxlc1swXSk7CiAgICAgIHZhciBmb3JtID0gewogICAgICAgIHByb2ZpbGVQaWN0dXJlOiBmaWxlc1swXQogICAgICB9OwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYWNjb3VudC91cGRhdGVQcm9maWxlUGljdHVyZScsIHsKICAgICAgICBmb3JtOiBmb3JtCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi51cGRhdGluZyA9IGZhbHNlOwogICAgICAgIHZhciBfcmVzJGRhdGEgPSByZXMuZGF0YSwKICAgICAgICAgICAgc3VjY2VzcyA9IF9yZXMkZGF0YS5zdWNjZXNzLAogICAgICAgICAgICB1cmwgPSBfcmVzJGRhdGEudXJsOwoKICAgICAgICBfdGhpczIuJHN0b3JlLmNvbW1pdCgnYXV0aC9TRVRfTkVXX1BST0ZJTEVfUElDJywgewogICAgICAgICAgcHJvZmlsZVBpY3R1cmU6IHVybAogICAgICAgIH0pOwoKICAgICAgICB2YXIgdXNlckRhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpOwogICAgICAgIHVzZXJEYXRhLnByb2ZpbGVwaWN0dXJldXJsID0gdXJsOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyJywgSlNPTi5zdHJpbmdpZnkodXNlckRhdGEpKTsKCiAgICAgICAgX3RoaXMyLnRvYXN0KCdVcGRhdGUgUHJvZmlsZSBQaWN0dXJlJywgJ0NoZWNrQ2lyY2xlSWNvbicsIHN1Y2Nlc3MsICdzdWNjZXNzJyk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHMKCgogICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9KTsKICAgIH0sCiAgICBjcmVhdGVJbWFnZTogZnVuY3Rpb24gY3JlYXRlSW1hZ2UoZmlsZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMzLnByb2ZpbGVQaWN0dXJlID0gZS50YXJnZXQucmVzdWx0OwogICAgICB9OwoKICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7CiAgICB9LAogICAgcmVtb3ZlSW1hZ2U6IGZ1bmN0aW9uIHJlbW92ZUltYWdlKCkgewogICAgICB0aGlzLnByb2ZpbGVQaWN0dXJlID0gbnVsbDsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Client.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA,SAAA,UAAA,QAAA,oBAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,UADA;AAEA,MAAA,OAAA,EAAA,IAFA;AAGA,MAAA,QAAA,EAAA,KAHA;AAIA,MAAA,MAAA,EAAA,IAJA;AAKA,MAAA,cAAA,EAAA,KAAA,MAAA,CAAA,OAAA,CAAA,wBAAA;AALA,KAAA;AAOA,GATA;AAUA,EAAA,OAVA,qBAUA;AACA,SAAA,aAAA;AACA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AAAA;;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,0BAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,YAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,YAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,OAJA;AAKA,KAPA;AAQA,IAAA,aARA,yBAQA,CARA,EAQA;AAAA;;AACA,WAAA,QAAA,GAAA,IAAA;AACA,UAAA,KAAA,GAAA,CAAA,CAAA,MAAA,CAAA,KAAA,IAAA,CAAA,CAAA,YAAA,CAAA,KAAA;;AACA,UAAA,CAAA,KAAA,CAAA,MAAA,EAAA;AACA;AACA;;AACA,WAAA,WAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,UAAA,IAAA,GAAA;AACA,QAAA,cAAA,EAAA,KAAA,CAAA,CAAA;AADA,OAAA;AAGA,WAAA,MAAA,CAAA,QAAA,CAAA,8BAAA,EAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,KAAA;AACA,wBAAA,GAAA,CAAA,IAAA;AAAA,YAAA,OAAA,aAAA,OAAA;AAAA,YAAA,GAAA,aAAA,GAAA;;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,0BAAA,EAAA;AAAA,UAAA,cAAA,EAAA;AAAA,SAAA;;AACA,YAAA,QAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA,CAAA;AACA,QAAA,QAAA,CAAA,iBAAA,GAAA,GAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,MAAA,EAAA,IAAA,CAAA,SAAA,CAAA,QAAA,CAAA;;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,wBAAA,EAAA,iBAAA,EAAA,OAAA,EAAA,SAAA,EAPA,CAQA;;;AACA,QAAA,QAAA,CAAA,MAAA;AACA,OAVA;AAWA,KA7BA;AA8BA,IAAA,WA9BA,uBA8BA,IA9BA,EA8BA;AAAA;;AACA,UAAA,MAAA,GAAA,IAAA,UAAA,EAAA;;AACA,MAAA,MAAA,CAAA,MAAA,GAAA,UAAA,CAAA,EAAA;AACA,QAAA,MAAA,CAAA,cAAA,GAAA,CAAA,CAAA,MAAA,CAAA,MAAA;AACA,OAFA;;AAGA,MAAA,MAAA,CAAA,aAAA,CAAA,IAAA;AACA,KApCA;AAqCA,IAAA,WArCA,yBAqCA;AACA,WAAA,cAAA,GAAA,IAAA;AACA;AAvCA;AAbA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <b-col\r\n      v-if=\"loading\"\r\n    >\r\n      <b-spinner\r\n        style=\"width: 3rem; height: 3rem;\"\r\n        variant=\"primary\"\r\n        label=\"Loading...\" type=\"grow\"\r\n        class=\"text-center\"\r\n      />\r\n    </b-col>\r\n    <b-card v-if=\"!loading\">\r\n      <h4 class=\"text-center mt-2\">\r\n        Profile details\r\n      </h4>\r\n      <div class=\"text-center mt-3\">\r\n        <b-link @click=\"$refs.refInputEl2.click()\">\r\n          <b-avatar\r\n            ref=\"profilePicture\"\r\n            :src=\"profilePicture\"\r\n            :text=\"avatarText(client.clientname)\"\r\n            variant=\"light-dark\"\r\n            size=\"130px\"\r\n          />\r\n        </b-link>\r\n        <input\r\n          ref=\"refInputEl2\"\r\n          type=\"file\"\r\n          class=\"d-none\"\r\n          accept=\"image/jpeg, image/png, image/gif, image/jpg\"\r\n          @change=\"updatePicture\"\r\n        >\r\n        <b-card-text\r\n          v-if=\"updating\"\r\n          class=\"mt-1\"\r\n        >\r\n          <b-spinner\r\n            small\r\n            label=\"Small Spinner\"\r\n            type=\"grow\"\r\n            class=\"mb-1 mr-1\"\r\n          />\r\n          Please wait while we upload your profile picture...\r\n        </b-card-text>\r\n      </div>\r\n      <b-row class=\"mt-3\">\r\n        <b-col />\r\n        <b-col lg=\"8\">\r\n          <b-row>\r\n            <b-col lg=\"6\">\r\n              <p>\r\n                <strong class=\"mr-1\">Client Name:</strong> {{ client.clientname }}\r\n              </p>\r\n              <p>\r\n                <strong class=\"mr-1\">Email:</strong> {{ client.email }}\r\n              </p>\r\n              <p>\r\n                <strong class=\"mr-1\">Client Type:</strong> {{ client.clienttype }}\r\n              </p>\r\n              <p>\r\n                <strong class=\"mr-1\">Address:</strong> {{ client.address }}\r\n              </p>\r\n            </b-col>\r\n            <b-col lg=\"6\">\r\n              <p>\r\n                <strong class=\"mr-1\">Phone:</strong> {{ client.phone }}\r\n              </p>\r\n              <p>\r\n                <strong class=\"mr-1\">Location:</strong> {{ client.state }}\r\n              </p>\r\n              <p>\r\n                <strong class=\"mr-1\">House Size:</strong> {{ client.housesize }}\r\n              </p>\r\n            </b-col>\r\n          </b-row>\r\n        </b-col>\r\n        <b-col />\r\n      </b-row>\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { avatarText } from '@core/utils/filter'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      avatarText,\r\n      loading: true,\r\n      updating: false,\r\n      client: null,\r\n      profilePicture: this.$store.getters['auth/getProfilePicture'],\r\n    }\r\n  },\r\n  created() {\r\n    this.getClientInfo()\r\n  },\r\n  methods: {\r\n    getClientInfo() {\r\n      this.$store.dispatch('account/getClientAccount').then(res => {\r\n        const { clientObject } = res.data.data\r\n        this.client = clientObject\r\n        this.loading = false\r\n      })\r\n    },\r\n    updatePicture(e) {\r\n      this.updating = true\r\n      const files = e.target.files || e.dataTransfer.files\r\n      if (!files.length) {\r\n        return\r\n      }\r\n      this.createImage(files[0])\r\n      const form = {\r\n        profilePicture: files[0],\r\n      }\r\n      this.$store.dispatch('account/updateProfilePicture', { form }).then(res => {\r\n        this.updating = false\r\n        const { success, url } = res.data\r\n        this.$store.commit('auth/SET_NEW_PROFILE_PIC', { profilePicture: url })\r\n        const userData = JSON.parse(localStorage.getItem('user'))\r\n        userData.profilepictureurl = url\r\n        localStorage.setItem('user', JSON.stringify(userData))\r\n        this.toast('Update Profile Picture', 'CheckCircleIcon', success, 'success')\r\n        // eslint-disable-next-line no-restricted-globals\r\n        location.reload()\r\n      })\r\n    },\r\n    createImage(file) {\r\n      const reader = new FileReader()\r\n      reader.onload = e => {\r\n        this.profilePicture = e.target.result\r\n      }\r\n      reader.readAsDataURL(file)\r\n    },\r\n    removeImage() {\r\n      this.profilePicture = null\r\n    },\r\n  },\r\n}\r\n</script>\r\n"],"sourceRoot":"src/views/account"}]}