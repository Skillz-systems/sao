{"remainingRequest":"/Users/kingsonly/Documents/tentacular/all_in_one/sao/sao-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kingsonly/Documents/tentacular/all_in_one/sao/sao-frontend/src/views/account/Team.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/kingsonly/Documents/tentacular/all_in_one/sao/sao-frontend/src/views/account/Team.vue","mtime":1680088796555},{"path":"/Users/kingsonly/Documents/tentacular/all_in_one/sao/sao-frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kingsonly/Documents/tentacular/all_in_one/sao/sao-frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/kingsonly/Documents/tentacular/all_in_one/sao/sao-frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/kingsonly/Documents/tentacular/all_in_one/sao/sao-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kingsonly/Documents/tentacular/all_in_one/sao/sao-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLnRlYW0tYXJlYSB7DQogIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgbWFyZ2luOiBhdXRvOw0KLy93aWR0aDogNDAwcHg7DQogIGhlaWdodDogMzB2aDsNCiAgbWF4LWhlaWdodDogMzB2aDsNCn0NCltkaXJdIC5mb3JtLWNvbnRyb2w6Zm9jdXMgew0KICBib3JkZXItY29sb3I6ICM0RDZEOEE7DQp9DQpbZGlyXSAuaW5wdXQtZ3JvdXA6bm90KC5ib290c3RyYXAtdG91Y2hzcGluKTpmb2N1cy13aXRoaW4gLmZvcm0tY29udHJvbCwgW2Rpcl0gLmlucHV0LWdyb3VwOm5vdCguYm9vdHN0cmFwLXRvdWNoc3Bpbik6Zm9jdXMtd2l0aGluIC5pbnB1dC1ncm91cC10ZXh0IHsNCiAgYm9yZGVyLWNvbG9yOiAjNEQ2RDhBOw0KfQ0KW2Rpcl0gLmN1c3RvbS1zZWxlY3Q6Zm9jdXMgew0KICBib3JkZXItY29sb3I6ICM0RDZEOEE7DQp9DQo="},{"version":3,"sources":["Team.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6ZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Team.vue","sourceRoot":"src/views/account","sourcesContent":["<template>\r\n  <div>\r\n    <b-card class=\"px-lg-2\">\r\n      <validation-observer ref=\"newTeamMemberValidation\">\r\n        <b-form @submit.prevent>\r\n          <h4>\r\n            Add Team Member\r\n          </h4>\r\n          <b-row class=\"mt-1\">\r\n            <b-col lg=\"6\">\r\n              <validation-provider\r\n                #default=\"{ errors }\"\r\n                name=\"full name\"\r\n                rules=\"required\"\r\n              >\r\n                <b-form-group>\r\n                  <label\r\n                    for=\"name\"\r\n                    class=\"mb-lg-1 font-weight-bolder\"\r\n                  >Full Name</label>\r\n                  <b-form-input\r\n                    id=\"name\"\r\n                    v-model=\"name\"\r\n                    placeholder=\"E.g. John Doe\"\r\n                  />\r\n                  <small class=\"text-danger\">{{ errors[0] }}</small>\r\n                </b-form-group>\r\n              </validation-provider>\r\n            </b-col>\r\n            <b-col lg=\"6\">\r\n              <validation-provider\r\n                #default=\"{ errors }\"\r\n                name=\"email\"\r\n                rules=\"required\"\r\n              >\r\n                <b-form-group>\r\n                  <label\r\n                    for=\"email\"\r\n                    class=\"mb-lg-1 font-weight-bolder\"\r\n                  >Email</label>\r\n                  <b-form-input\r\n                    id=\"email\"\r\n                    v-model=\"email\"\r\n                    placeholder=\"E.g. johndoe@xyz.com\"\r\n                  />\r\n                  <small class=\"text-danger\">{{ errors[0] }}</small>\r\n                </b-form-group>\r\n              </validation-provider>\r\n            </b-col>\r\n            <b-col cols=\"12\">\r\n              <div class=\"\">\r\n                <b-button\r\n                  v-if=\"!isLoading\"\r\n                  style=\"background-color: #4D6D8A !important; border-color: #4D6D8A !important; border-radius: 40px;\"\r\n                  @click=\"addTeamMember\"\r\n                >\r\n                  Add\r\n                </b-button>\r\n                <b-button\r\n                  v-if=\"isLoading\"\r\n                  disabled\r\n                  style=\"background-color: #4D6D8A !important; border-color: #4D6D8A !important; border-radius: 40px;\"\r\n                >\r\n                  Adding...\r\n                </b-button>\r\n              </div>\r\n            </b-col>\r\n          </b-row>\r\n        </b-form>\r\n      </validation-observer>\r\n      <h4 class=\"mt-3\">\r\n        Team Members\r\n      </h4>\r\n      <hr>\r\n      <vue-perfect-scrollbar\r\n        :settings=\"perfectScrollbarSettings\"\r\n        class=\"team-area\"\r\n      >\r\n        <b-spinner\r\n          v-if=\"loading\"\r\n          style=\"width: 3rem; height: 3rem;\"\r\n          variant=\"primary\"\r\n          label=\"Loading...\" type=\"grow\"\r\n          class=\"text-center\"\r\n        />\r\n        <b-list-group\r\n          v-if=\"!loading\"\r\n          class=\"mt-0\"\r\n          flush\r\n        >\r\n          <b-list-group-item\r\n            v-for=\"person in team\"\r\n            :key=\"person.id\"\r\n          >\r\n            <b-row>\r\n              <b-col\r\n                lg=\"4\"\r\n                class=\"d-flex align-content-center justify-content-center\"\r\n              >\r\n                <b-media>\r\n                  <template #aside>\r\n                    <b-avatar\r\n                      size=\"65\"\r\n                      :src=\"require('@/assets/images/avatars/avatar.png')\"\r\n                    />\r\n                  </template>\r\n                  <h5 class=\"mt-1\">\r\n                    {{ person.firstname }}\r\n                  </h5>\r\n                  <p class=\"mt-0\">\r\n                    {{ person.email }}\r\n                  </p>\r\n                </b-media>\r\n              </b-col>\r\n              <b-col\r\n                lg=\"4\"\r\n                class=\"d-flex align-content-center justify-content-center\"\r\n              >\r\n                <div style=\"padding: 29px 0\">\r\n                  Role:\r\n                </div>\r\n                <div style=\"padding: 20px 0\">\r\n                  <b-form-input\r\n                    id=\"role\"\r\n                    :value=\"roles[person.role]\"\r\n                    style=\"width: 10em; margin-left: 1em\"\r\n                    disabled\r\n                  />\r\n                </div>\r\n              </b-col>\r\n              <b-col\r\n                lg=\"4\"\r\n                class=\"d-flex align-content-center justify-content-center\"\r\n              >\r\n                <feather-icon\r\n                  v-b-tooltip.hover.top=\"'Edit'\"\r\n                  icon=\"EditIcon\"\r\n                  size=\"20\"\r\n                  class=\"cursor-pointer float-right mt-auto mb-auto mr-1\"\r\n                  @click=\"edit(person)\"\r\n                />\r\n                <feather-icon\r\n                  v-b-tooltip.hover.top=\"'Delete'\"\r\n                  icon=\"Trash2Icon\"\r\n                  size=\"20\"\r\n                  class=\"cursor-pointer float-right mt-auto mb-auto\"\r\n                />\r\n              </b-col>\r\n            </b-row>\r\n          </b-list-group-item>\r\n        </b-list-group>\r\n      </vue-perfect-scrollbar>\r\n    </b-card>\r\n    <b-modal\r\n      ref=\"edit-team-member\"\r\n      hide-footer\r\n      hide-header\r\n      size=\"lg\"\r\n      centered\r\n    >\r\n      <validation-observer ref=\"editMemberValidation\">\r\n        <b-form @submit.prevent>\r\n          <h4 class=\"text-center mt-2\">\r\n            Profile details\r\n          </h4>\r\n          <div class=\"text-center mt-2\">\r\n            <b-avatar\r\n              size=\"80px\"\r\n              :src=\"require('@/assets/images/avatars/avatar.png')\"\r\n            />\r\n          </div>\r\n          <b-row class=\"mt-1 px-lg-3 mb-2\">\r\n            <b-col lg=\"6\">\r\n              <validation-provider\r\n                #default=\"{ errors }\"\r\n                name=\"name\"\r\n                rules=\"required\"\r\n              >\r\n                <b-form-group>\r\n                  <label\r\n                    for=\"name\"\r\n                    class=\"mb-lg-1 font-weight-bolder\"\r\n                  >Name</label>\r\n                  <b-input-group class=\"input-group-merge\">\r\n                    <b-input-group-prepend is-text>\r\n                      <b-icon icon=\"person-fill\" />\r\n                    </b-input-group-prepend>\r\n                    <b-form-input\r\n                      id=\"name\"\r\n                      v-model=\"editName\"\r\n                    />\r\n                  </b-input-group>\r\n                  <small class=\"text-danger\">{{ errors[0] }}</small>\r\n                </b-form-group>\r\n              </validation-provider>\r\n            </b-col>\r\n            <b-col lg=\"6\">\r\n              <b-form-group>\r\n                <label\r\n                  for=\"role\"\r\n                  class=\"mb-lg-1 font-weight-bolder\"\r\n                >Role</label>\r\n                <b-input-group class=\"input-group-merge\">\r\n                  <b-input-group-prepend is-text>\r\n                    <b-icon icon=\"person-badge\" />\r\n                  </b-input-group-prepend>\r\n                  <b-form-select\r\n                    id=\"role\"\r\n                    v-model=\"role\"\r\n                    :options=\"roleOptions\"\r\n                  />\r\n                </b-input-group>\r\n              </b-form-group>\r\n            </b-col>\r\n            <b-col lg=\"6\">\r\n              <validation-provider\r\n                #default=\"{ errors }\"\r\n                name=\"email\"\r\n                rules=\"required\"\r\n              >\r\n                <b-form-group>\r\n                  <label\r\n                    for=\"email\"\r\n                    class=\"mb-lg-1 font-weight-bolder\"\r\n                  >Email</label>\r\n                  <b-input-group class=\"input-group-merge\">\r\n                    <b-input-group-prepend is-text>\r\n                      <b-icon icon=\"envelope-fill\" />\r\n                    </b-input-group-prepend>\r\n                    <b-form-input\r\n                      id=\"email\"\r\n                      v-model=\"editEmail\"\r\n                      readonly\r\n                    />\r\n                  </b-input-group>\r\n                  <small class=\"text-danger\">{{ errors[0] }}</small>\r\n                </b-form-group>\r\n              </validation-provider>\r\n            </b-col>\r\n            <b-col lg=\"6\">\r\n              <validation-provider\r\n                #default=\"{ errors }\"\r\n                name=\"phone\"\r\n                rules=\"required\"\r\n              >\r\n                <b-form-group>\r\n                  <label\r\n                    for=\"phone\"\r\n                    class=\"mb-lg-1 font-weight-bolder\"\r\n                  >Phone</label>\r\n                  <b-input-group class=\"input-group-merge\">\r\n                    <b-input-group-prepend is-text>\r\n                      <b-icon icon=\"telephone-fill\" />\r\n                    </b-input-group-prepend>\r\n                    <b-form-input\r\n                      id=\"phone\"\r\n                      v-model=\"editPhone\"\r\n                    />\r\n                  </b-input-group>\r\n                  <small class=\"text-danger\">{{ errors[0] }}</small>\r\n                </b-form-group>\r\n              </validation-provider>\r\n            </b-col>\r\n            <b-col cols=\"12\">\r\n              <div class=\"d-flex float-right mt-2\">\r\n                <b-button\r\n                  style=\"background-color: #C4C4C4 !important; border-color: #C4C4C4 !important; border-radius: 40px; margin-right: 1.5em\"\r\n                  @click=\"close\"\r\n                >\r\n                  Cancel\r\n                </b-button>\r\n                <b-button\r\n                  v-if=\"!isLoading\"\r\n                  type=\"submit\"\r\n                  style=\"background-color: #4D6D8A !important; border-color: #4D6D8A !important; border-radius: 40px;\"\r\n                  @click=\"saveEdit\"\r\n                >\r\n                  Save\r\n                </b-button>\r\n                <b-button\r\n                  v-if=\"isLoading\"\r\n                  disabled\r\n                  style=\"background-color: #4D6D8A !important; border-color: #4D6D8A !important; border-radius: 40px;\"\r\n                >\r\n                  Saving...\r\n                </b-button>\r\n              </div>\r\n            </b-col>\r\n          </b-row>\r\n        </b-form>\r\n      </validation-observer>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport VuePerfectScrollbar from 'vue-perfect-scrollbar'\r\nimport { ValidationObserver, ValidationProvider } from 'vee-validate'\r\nimport { required } from '@validations'\r\n\r\nexport default {\r\n  components: {\r\n    VuePerfectScrollbar,\r\n    ValidationProvider,\r\n    ValidationObserver,\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      isLoading: false,\r\n      name: null,\r\n      email: null,\r\n      id: null,\r\n      editName: null,\r\n      editEmail: null,\r\n      editPhone: null,\r\n      roleOptions: [\r\n        { value: 1, text: 'Admin', disabled: true },\r\n        { value: 2, text: 'Write' },\r\n        { value: 3, text: 'Read' },\r\n        { value: 4, text: 'Client', disabled: true },\r\n      ],\r\n      role: null,\r\n      team: [],\r\n      perfectScrollbarSettings: {\r\n        maxScrollbarLength: 60,\r\n      },\r\n      roles: {\r\n        1: 'Admin',\r\n        2: 'Write',\r\n        3: 'Read',\r\n        4: 'Client',\r\n      },\r\n      required,\r\n    }\r\n  },\r\n  created() {\r\n    this.getTeamMembers()\r\n  },\r\n  methods: {\r\n    getTeamMembers() {\r\n      this.loading = true\r\n      this.$store.dispatch('account/getTeamMembers').then(res => {\r\n        const { data } = res.data\r\n        this.team = data\r\n        this.loading = false\r\n      })\r\n    },\r\n    addTeamMember() {\r\n      this.isLoading = true\r\n      this.$refs.newTeamMemberValidation.validate().then(success => {\r\n        if (success) {\r\n          const form = {\r\n            email: this.email,\r\n            name: this.name,\r\n          }\r\n          this.$store.dispatch('account/addTeamMember', { form }).then(res => {\r\n            this.isLoading = false\r\n            const { message } = res.data\r\n            this.getTeamMembers()\r\n            this.toast('Add Team Member', 'CheckCircleIcon', message, 'success')\r\n          }).catch(err => {\r\n            this.isLoading = false\r\n            this.toast('Add Team Member', 'SlashIcon', err.response.data.message, 'danger')\r\n          })\r\n        } else {\r\n          this.isLoading = false\r\n          this.toast('Add Team Member Attempt', 'AlertTriangleIcon', 'You must fill in all required fields', 'warning')\r\n        }\r\n      })\r\n    },\r\n    edit(teamMember) {\r\n      this.editName = teamMember.firstname\r\n      this.editEmail = teamMember.email\r\n      this.editPhone = teamMember.phone\r\n      this.role = teamMember.role\r\n      this.id = teamMember.id\r\n      this.$refs['edit-team-member'].show()\r\n    },\r\n    close() {\r\n      this.$refs['edit-team-member'].hide()\r\n    },\r\n    saveEdit() {\r\n      this.isLoading = true\r\n      this.$refs.editMemberValidation.validate().then(success => {\r\n        if (success) {\r\n          const form = {\r\n            id: this.id,\r\n            phone: this.editPhone,\r\n            role: this.role,\r\n            name: this.editName,\r\n          }\r\n          this.$store.dispatch('account/updateTeamMember', { form }).then(res => {\r\n            this.isLoading = false\r\n            const { message } = res.data\r\n            this.getTeamMembers()\r\n            this.close()\r\n            this.toast('Edit Team Member', 'CheckCircleIcon', message, 'success')\r\n          }).catch(err => {\r\n            this.isLoading = false\r\n            this.toast('Edit Team Member', 'SlashIcon', err.response.data.message, 'danger')\r\n          })\r\n        } else {\r\n          this.isLoading = false\r\n          this.toast('Edit Team Member Attempt', 'AlertTriangleIcon', 'You must fill in all required fields', 'warning')\r\n        }\r\n      })\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n.team-area {\r\n  position: relative;\r\n  margin: auto;\r\n//width: 400px;\r\n  height: 30vh;\r\n  max-height: 30vh;\r\n}\r\n[dir] .form-control:focus {\r\n  border-color: #4D6D8A;\r\n}\r\n[dir] .input-group:not(.bootstrap-touchspin):focus-within .form-control, [dir] .input-group:not(.bootstrap-touchspin):focus-within .input-group-text {\r\n  border-color: #4D6D8A;\r\n}\r\n[dir] .custom-select:focus {\r\n  border-color: #4D6D8A;\r\n}\r\n</style>\r\n"]}]}